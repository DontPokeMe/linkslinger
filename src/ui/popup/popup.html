<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=400, initial-scale=1">
  <link rel="stylesheet" href="popup.css">
  <title>LinkSlinger</title>
</head>
<body>
  <div class="popup-root">
    <!-- A. Header -->
    <header class="popup-header">
      <div class="header-left">
        <div class="logo-wrap" aria-hidden="true">
          <svg class="logo-svg" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <filter id="logo-glow" x="-50%" y="-50%" width="200%" height="200%">
                <feGaussianBlur stdDeviation="0.8" result="blur"/>
                <feMerge>
                  <feMergeNode in="blur"/>
                  <feMergeNode in="SourceGraphic"/>
                </feMerge>
              </filter>
            </defs>
            <!-- Magnifying glass -->
            <circle cx="10.5" cy="10.5" r="6" stroke="currentColor" stroke-width="1.8" fill="none" filter="url(#logo-glow)"/>
            <path d="M15 15l4.5 4.5" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" filter="url(#logo-glow)"/>
            <!-- Padlock (small, inside circle) -->
            <rect x="8.2" y="9" width="4.6" height="3.2" rx="0.6" stroke="currentColor" stroke-width="1" fill="none"/>
            <path d="M9.5 9V7.5a1 1 0 012 0V9" stroke="currentColor" stroke-width="1" stroke-linecap="round" fill="none"/>
          </svg>
        </div>
        <span class="header-title">LinkSlinger</span>
      </div>
      <a href="#" class="header-settings" id="openSettings" aria-label="Settings">
        <svg class="icon-cog" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M10 12.5C11.3807 12.5 12.5 11.3807 12.5 10C12.5 8.61929 11.3807 7.5 10 7.5C8.61929 7.5 7.5 8.61929 7.5 10C7.5 11.3807 8.61929 12.5 10 12.5Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M15.6066 12.8934L14.5 14L12.5 12L13.6066 10.8934M4.39338 7.10662L5.5 6L7.5 8L6.39338 9.10662M12.8934 4.39338L14 5.5L12 7.5L10.8934 6.39338M7.10662 15.6066L6 14.5L8 12.5L9.10662 13.6066" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </a>
    </header>

    <!-- B. Main Action Area -->
    <main class="popup-main">
      <div class="input-card glass">
        <label for="urlInput" class="sr-only">URL to analyze</label>
        <input
          type="text"
          id="urlInput"
          class="url-input data-mono"
          placeholder="Paste or use current tab URL"
          spellcheck="false"
          autocomplete="off"
        />
      </div>
      <button type="button" class="btn-analyze" id="analyzeBtn">
        Analyze Link
      </button>

      <!-- Terminal-style loading (hidden by default) -->
      <div class="scanning-area glass" id="scanningArea" aria-live="polite" hidden>
        <div class="scanning-line data-mono" id="scanningLine">[Resolving DNS...]</div>
      </div>

      <!-- C. Results Area (Bento) -->
      <section class="results-area" id="resultsArea" hidden>
        <!-- Verdict banner -->
        <div class="verdict-banner glass" id="verdictBanner" role="status">
          <span class="verdict-icon" aria-hidden="true"></span>
          <span class="verdict-text" id="verdictText"></span>
        </div>
        <!-- Redirect chain card -->
        <div class="bento-card glass" id="redirectCard" hidden>
          <h3 class="card-title">Redirect chain</h3>
          <ol class="redirect-list data-mono" id="redirectList"></ol>
        </div>
        <!-- Threat intel card -->
        <div class="bento-card glass" id="threatCard" hidden>
          <h3 class="card-title">Threat intel</h3>
          <div class="threat-pills" id="threatPills"></div>
        </div>
      </section>
    </main>

    <!-- D. Footer -->
    <footer class="popup-footer">
      <a href="https://dontpoke.me/tools/link-expander" target="_blank" rel="noopener" class="footer-link" id="fullReportLink">Full Report on dontpoke.me</a>
      <button type="button" class="btn-clear" id="clearBtn">Clear</button>
    </footer>
  </div>

  <script src="popup.js"></script>
</body>
</html>
